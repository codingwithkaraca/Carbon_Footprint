function gui(){}function carbon(){}function exec(a,e){for(var t=Array.prototype.slice.call(arguments,2),n=a.split("."),i=n.pop(),c=0;c<n.length;c++)e=e[n[c]];return e[i].apply(e,t)}var gui=new gui,carbon=new carbon;carbon.settings={rates:{airplane:{key:"saat",value:.9488},vehicle:{gasoline:{key:"lt",value:2.239},diesel:{key:"lt",value:2.599},lpg:{key:"lt",value:1.679}},electricity:{key:"kWh",value:.472},heating:{natural:{key:"m3",value:2.02},coal:{key:"kg",value:2.04},lpg:{key:"lt",value:1.679},fueloil:{key:"lt",value:2.961},biogas:{key:"m3/ton",value:0}}}},carbon.nav=$("main > .steps"),carbon.context=$("main > .ui.segment"),carbon.setup=function(a){carbon.nav.find(".step[data-tab="+a+"]").removeClass("completed"),carbon.nav.find(".step[data-tab="+a+"]").prevAll().addClass("completed"),carbon.nav.find(".step[data-tab="+a+"]").nextAll().removeClass("completed")},carbon.calculate=function(){var a={};a.airplane=carbon.airplane.calculate(),a.vehicle=carbon.vehicle.calculate(),a.electricity=carbon.electricity.calculate(),a.heating=carbon.heating.calculate(),$("results #airplane [name=value]").html(a.airplane.toFixed(2)),$("results #vehicle [name=value]").html(a.vehicle.toFixed(2)),$("results #electricity [name=value]").html(a.electricity.toFixed(2)),$("results #heating [name=value]").html(a.heating.toFixed(2)),$("results #total [name=value]").html(((a.airplane+a.vehicle+a.electricity+a.heating)/1e3).toFixed(2))},carbon.airplane={},carbon.vehicle={},carbon.electricity={},carbon.heating={},carbon.results={},carbon.airplane.init=function(){carbon.airplane.calculate()},carbon.airplane.calculate=function(){if(carbon.context.find("[data-tab=airplane] .list").children().length>0){var a=0;return carbon.context.find("[data-tab=airplane] .list").children().each(function(e,t){a+=60*$(t).find("[name=airplane-hour]").val()*$(t).find("[name=airplane-count]").val()*carbon.settings.rates.airplane.value-5.4647}),0>a?0:a}return 0},carbon.airplane.remove=function(a){a.element.parent().parent().parent().parent().remove(),0==carbon.context.find("[data-tab=airplane] .list").children().length,carbon.calculate()},carbon.airplane.add=function(a){var e=carbon.context.find("[data-tab=airplane] .list > .item").last().data("id")+1,t="";t+='<div class="item" data-id="'+e+'">',t+='    <div class="content">',t+='        <div class="four fields">',t+='            <div class="field">',t+="                <label>"+carbon.language["airplane-hour"]+"</label>",t+='                <select class="ui dropdown" name="airplane-hour">';for(var n=.5;17.5>n;n+=.5)t+='            	<option value="'+n+'">'+n+" "+(n>=1.5?carbon.language.hours:carbon.language.hour)+"</option>";t+="                </select>",t+="            </div>",t+='            <div class="field">',t+="                <label>"+carbon.language["airplane-count"]+"</label>",t+='                <input type="number" value="1" name="airplane-count">',t+="            </div>",t+='            <div class="field"></div>',t+='            <div class="field">',t+="                <label>&nbsp;</label>",t+='                <button class="right floated compact small ui button" data-action="airplane-remove">'+carbon.language.cancel+"</button>",t+="            </div>",t+="        </div>",t+="    </div>",t+="</div>",carbon.context.find("[data-tab=airplane] .list").append(t),gui.init(),carbon.calculate()},carbon.vehicle.init=function(){carbon.vehicle.calculate()},carbon.vehicle.calculate=function(){var a=carbon.context.find("[data-tab=vehicle] [name=vehicle-type]").val();if(null===a)return 0;var e=carbon.context.find("[data-tab=vehicle] [name=vehicle-value]").val();return""==e?0:"undefined"==typeof carbon.settings.rates.vehicle[a]?0:e*carbon.settings.rates.vehicle[a].value},carbon.electricity.init=function(){carbon.electricity.calculate()},carbon.electricity.calculate=function(){var a=carbon.context.find("[data-tab=electricity] [name=electricity-value]").val();return""==a?0:a*carbon.settings.rates.electricity.value},carbon.heating.init=function(){carbon.heating.calculate()},carbon.heating.calculate=function(){var a=carbon.context.find("[data-tab=heating] [name=heating-type]").val();if(null===a)return 0;var e=carbon.context.find("[data-tab=heating] [name=heating-value]").val();return""==e?0:"undefined"==typeof carbon.settings.rates.heating[a]?0:(a&&$("[data-tab='heating'] #key").html(" ("+carbon.settings.rates.heating[a].key+")"),e*carbon.settings.rates.heating[a].value)},carbon.results.init=function(){},gui.init=function(){$(".ui.dropdown").dropdown()},$(document).ready(function(){$("main > .steps > .step").tab({context:"main > .ui.segment",history:!0,historyType:"hash",onTabLoad:function(a){exec("setup",carbon,a),exec(a+".init",carbon)}}),gui.init(),carbon.calculate(),$(document).on("change","select, input",function(a){carbon.calculate()}),$(document).on("click","[data-action]",function(a){if(a.preventDefault(),a.stopPropagation(),"undefined"==typeof $(this).data("action"))return!1;var e=$(this).data("action").split("-").join(".");exec(e,carbon,{element:$(this),data:$(this).data()})}),$(document).on("click","[data-switch]",function(a){return a.preventDefault(),a.stopPropagation(),"undefined"==typeof $(this).data("switch")?!1:void $("main > .ui.steps > a[data-tab="+$(this).data("switch")+"]").trigger("click")})});